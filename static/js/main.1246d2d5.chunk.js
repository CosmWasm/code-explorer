(this["webpackJsonpcode-explorer"]=this["webpackJsonpcode-explorer"]||[]).push([[0],{133:function(e,t,a){e.exports=a(294)},138:function(e,t,a){},154:function(e,t){},162:function(e,t){},164:function(e,t){},211:function(e,t){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);a(134),a(135),a(136),a(138);var n=a(0),l=a.n(n),c=a(129),r=a.n(c),s=a(17),o=a(4);var m=a(6);const i={borderColor:"rgba(255, 255, 255, 0.8)"},d={color:"#f0f0f0"};function u({backend:e}){const[t,a]=l.a.useState();return l.a.useEffect(()=>{new m.CosmWasmClient(e.nodeUrl).chainId().then(a)},[e.nodeUrl]),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("hr",{style:i}),l.a.createElement("p",{style:d,className:"text-center font-weight-light"},"Connected to endpoint ",e.nodeUrl," (",t||"Loading \u2026",") |"," ",l.a.createElement("a",{href:"https://github.com/confio/code-explorer",style:d},"Fork me on GitHub"))))}function E(){return l.a.createElement("header",null)}const h={backend:{devnet:{nodeUrl:"http://localhost:1317"},demonet:{nodeUrl:"https://lcd.demo-07.cosmwasm.com"}}[Object({NODE_ENV:"production",PUBLIC_URL:"https://confio.github.io/code-explorer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BACKEND||"devnet"],deployment:{routerType:"hash-router"}};var g=a(8);function p(e,t){if(e.length<=t)return e;const a=Math.ceil((t-"\u2026".length)/2),n=Math.floor((t-"\u2026".length)/2);return e.slice(0,a)+"\u2026"+e.slice(-n)}function b(e){if(e.denom.startsWith("u")){const t=e.denom.slice(1).toUpperCase();return g.Decimal.fromAtomics(e.amount,6).toString()+"\u202f"+t}return e.amount+"\u202f"+e.denom}function N(e){return 0===e.length?"\u2013":e.map(b).join(", ")}function f({address:e,maxLength:t=20}){return l.a.createElement(o.c,{to:`/accounts/${e}`,title:e},p(e,t||99999))}function v({transfers:e}){return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Height"),l.a.createElement("th",{scope:"col"},"Transaction ID"),l.a.createElement("th",{scope:"col"},"Sender"),l.a.createElement("th",{scope:"col"},"Recipient"),l.a.createElement("th",{scope:"col"},"Amount"))),l.a.createElement("tbody",null,e.map((e,t)=>l.a.createElement("tr",{key:e.key},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.height),l.a.createElement("td",null,l.a.createElement(o.c,{to:`/transactions/${e.transactionId}`,title:e.transactionId},p(e.transactionId,20))),l.a.createElement("td",null,l.a.createElement(f,{address:e.msg.value.from_address})),l.a.createElement("td",null,l.a.createElement(f,{address:e.msg.value.to_address})),l.a.createElement("td",null,N(e.msg.value.amount))))))}a(289);var w=a(132);var k=function({checksum:e,source:t,builder:a}){if(!t||!a)return l.a.createElement("span",null,"Contract cannot be verified since ",l.a.createElement("code",null,"builder")," or ",l.a.createElement("code",null,"source")," is missing");const n=Object(w.quote)(["cosmwasm-verify",t,a,e]);return l.a.createElement("code",null,n)};function C({code:e}){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},"Creator: ",l.a.createElement(f,{address:e.creator,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Checksum: ",e.checksum),l.a.createElement("li",{className:"list-group-item"},"Source: ",e.source||"\u2013"),l.a.createElement("li",{className:"list-group-item"},"Builder: ",e.builder||"\u2013"),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("p",{className:"text-muted"},"Code verfication allows you to verify that uploaded code was compiled from the source it claims."," ",l.a.createElement("a",{href:"https://github.com/confio/cosmwasm-verify",className:"text-muted"},"Tell me more!")),l.a.createElement("p",{className:"mb-0"},l.a.createElement(k,{checksum:e.checksum,source:e.source,builder:e.builder})))))}function y({address:e,maxLength:t=20}){return l.a.createElement(o.c,{to:`/contracts/${e}`,title:e},p(e,t||99999))}var x=function({position:e,contract:t}){const[a,n]=l.a.useState();return l.a.useEffect(()=>{const e=new m.CosmWasmClient(h.backend.nodeUrl),a=[{key:"message.contract_address",value:t.address},{key:"message.action",value:"execute"}];e.searchTx({tags:a}).then(e=>n(e.length))},[t.address]),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},e),l.a.createElement("td",null,t.label),l.a.createElement("td",null,l.a.createElement(y,{address:t.address})),l.a.createElement("td",null,l.a.createElement(f,{address:t.creator})),l.a.createElement("td",null,void 0===a?"Loading \u2026":a))};a(290),a(291);function S({data:e}){const[t,a]=l.a.useState();return l.a.useEffect(()=>{new m.CosmWasmClient(h.backend.nodeUrl).getContracts(e.codeId).then(e=>{a({instantiations:e.length})})},[e.codeId]),l.a.createElement("div",{className:"p-2 flex-grow-1"},l.a.createElement(o.c,{to:`/codes/${e.codeId}`,className:"code-content"},l.a.createElement("div",{className:"id"},"#",e.codeId),l.a.createElement("div",{className:"details"},"Creator: ",e.creator,l.a.createElement("br",null),"Source: ",p(e.source,45)||"\u2013",l.a.createElement("br",null),"Builder: ",e.builder||"\u2013",l.a.createElement("br",null),"Checksum: ",e.checksum.slice(0,10),l.a.createElement("br",null),"Instances: ",t?t.instantiations:"Loading \u2026")))}function I(){const[e,t]=l.a.useState("loading");return l.a.useEffect(()=>{new m.CosmWasmClient(h.backend.nodeUrl).getCodes().then(e=>{const a=e.map(e=>({codeId:e.id,checksum:e.checksum,creator:e.creator,source:e.source||"",builder:e.builder||""})).reverse();t(a)})},[]),l.a.createElement("div",{className:"d-flex flex-wrap mb-3"},"loading"===e?l.a.createElement("p",null,"Loading \u2026"):0===e.length?l.a.createElement("p",null,"No code uploaded yet"):e.map(e=>l.a.createElement(S,{data:e,key:e.codeId})))}a(292);function T({codeId:e}){return l.a.createElement(o.c,{to:`/codes/${e}`},"Code #",e)}function L({executions:e}){return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Height"),l.a.createElement("th",{scope:"col"},"Transaction ID"),l.a.createElement("th",{scope:"col"},"Sender"))),l.a.createElement("tbody",null,e.map((e,t)=>l.a.createElement("tr",{key:e.key},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.height),l.a.createElement("td",null,l.a.createElement(o.c,{to:`/transactions/${e.transactionId}`,title:e.transactionId},p(e.transactionId,20))),l.a.createElement("td",null,l.a.createElement(f,{address:e.msg.value.sender}))))))}function _({contract:e}){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},"Creator: ",l.a.createElement(f,{address:e.creator,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"The contract level initialization message"},"Init message"),":"," ",l.a.createElement("pre",{className:"mb-0"},JSON.stringify(e.initMsg,null,"  ")))))}a(293);function A({msg:e}){return l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"list-group-item"},"Contract: ",l.a.createElement(y,{address:e.value.contract,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Sender: ",l.a.createElement(f,{address:e.value.sender,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Sent funds: ",N(e.value.sent_funds)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"The contract level message"},"Handle message"),":"," ",l.a.createElement("pre",{className:"mb-0"},JSON.stringify(e.value.msg,null,"  "))))}function O({msg:e}){return l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"list-group-item"},"Sender: ",l.a.createElement(f,{address:e.value.from_address,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Recipient: ",l.a.createElement(f,{address:e.value.to_address,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Amount: ",N(e.value.amount)))}function U({tx:e}){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},"Memo: ",e.value.memo||"\u2013"),l.a.createElement("li",{className:"list-group-item"},"Fee: ",N(e.value.fee.amount)),l.a.createElement("li",{className:"list-group-item"},"Gas: ",e.value.fee.gas),l.a.createElement("li",{className:"list-group-item"},"Signatures: ",e.value.signatures.length)))}r.a.render(l.a.createElement((function({type:e,children:t}){switch(e){case"browser-router":return l.a.createElement(o.a,{basename:"https://confio.github.io/code-explorer"},t);case"hash-router":return l.a.createElement(o.b,null,t)}}),{type:h.deployment.routerType},l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/codes",component:function(){return l.a.createElement("div",{className:"page"},l.a.createElement(E,null),l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Codes"))))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement(I,null))),l.a.createElement(u,{backend:h.backend})))}}),l.a.createElement(s.b,{path:"/codes/:codeId",component:function(){const{codeId:e}=Object(s.g)(),t=parseInt(e||"0",10),[a,n]=l.a.useState(),[c,r]=l.a.useState([]);l.a.useEffect(()=>{const e=new m.CosmWasmClient(h.backend.nodeUrl);e.getContracts(t).then(r),e.getCodeDetails(t).then(n)},[t]);const i=l.a.createElement("span",null,"Code #",t);return l.a.createElement("div",{className:"page"},l.a.createElement(E,null),l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.c,{to:"/codes"},"Codes")),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},i))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,i),l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item"},"Type: Wasm"),l.a.createElement("li",{className:"list-group-item"},"Size: ",a?Math.round(a.data.length/1024)+" KiB":"Loading \u2026"))),l.a.createElement("div",{className:"col"},a?l.a.createElement(C,{code:a}):l.a.createElement("span",null,"Loading \u2026"))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Instances"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Label"),l.a.createElement("th",{scope:"col"},"Contract"),l.a.createElement("th",{scope:"col"},"Creator"),l.a.createElement("th",{scope:"col"},"Executions"))),l.a.createElement("tbody",null,c.map((e,t)=>l.a.createElement(x,{position:t+1,contract:e,key:e.address})))))),l.a.createElement(u,{backend:h.backend})))}}),l.a.createElement(s.b,{path:"/contracts/:contractAddress",component:function(){const{contractAddress:e}=Object(s.g)(),t=e||"",[a,n]=l.a.useState("loading"),[c,r]=l.a.useState("loading"),[i,d]=l.a.useState("loading");l.a.useEffect(()=>{const e=new m.CosmWasmClient(h.backend.nodeUrl);e.getContract(t).then(n).catch(e=>{console.error(e),n("error")}),e.getAccount(t).then(r).catch(e=>{console.error(e),r("error")});const a=[{key:"message.contract_address",value:t},{key:"message.action",value:"execute"}];e.searchTx({tags:a}).then(e=>{const t=new Array;for(const a of e)for(const[e,n]of a.tx.value.msg.entries())m.types.isMsgExecuteContract(n)&&t.push({key:`${a.hash}_${e}`,height:a.height,transactionId:a.hash,msg:n});d(t)}).catch(e=>{console.error(e),d("error")})},[t]);const g=l.a.createElement("span",{title:t},"Contract ",p(t,15));return l.a.createElement("div",{className:"page"},l.a.createElement(E,null),l.a.createElement("div",{className:"container mt-3 contract-container"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.c,{to:"/codes"},"Codes")),l.a.createElement("li",{className:"breadcrumb-item"},"loading"===a?l.a.createElement("span",null,"Loading \u2026"):"error"===a?l.a.createElement("span",null,"Error"):l.a.createElement(T,{codeId:a.codeId})),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},g))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,g),l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item",title:"Bank tokens owned by this contract"},"Balance:"," ","loading"===c?"Loading \u2026":"error"===c?"Error":N((null===c||void 0===c?void 0:c.balance)||[])))),l.a.createElement("div",{className:"col"},"loading"===a?l.a.createElement("p",null,"Loading \u2026"):"error"===a?l.a.createElement("p",null,"An Error occurred when loading contract"):l.a.createElement(_,{contract:a}))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Executions"),"loading"===i?l.a.createElement("p",null,"Loading \u2026"):"error"===i?l.a.createElement("p",null,"An Error occurred when loading transactions"):0!==i.length?l.a.createElement(L,{executions:i}):l.a.createElement("p",null,"Contract was not yet executed"))),l.a.createElement(u,{backend:h.backend})))}}),l.a.createElement(s.b,{path:"/transactions/:txId",component:function(){const{txId:e}=Object(s.g)(),t=e||"",a=l.a.createElement("span",{title:t},"Tx ",p(t,20)),[n,c]=l.a.useState("loading");return l.a.useEffect(()=>{new m.CosmWasmClient(h.backend.nodeUrl).searchTx({id:t}).then(e=>{const t=e.find(()=>!0);c(t)})},[t]),l.a.createElement("div",{className:"page"},l.a.createElement(E,null),l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.c,{to:"/"},"Home")),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},a))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,a),l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item"},"Height: ","loading"===n?"Loading...":(null===n||void 0===n?void 0:n.height)||"\u2013"),l.a.createElement("li",{className:"list-group-item"},"Time: ","loading"===n?"Loading...":(null===n||void 0===n?void 0:n.timestamp)||"\u2013"))),l.a.createElement("div",{className:"col"},"loading"===n?l.a.createElement("span",null,"Loading \u2026"):n?l.a.createElement(U,{tx:n.tx}):l.a.createElement("p",null,"Transaction not found"))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Messages"),l.a.createElement("p",null,"A Cosmos SDK transaction is composed of one or more messages, that represent actions to be executed."),"loading"===n?l.a.createElement("p",null,"Loading \u2026"):l.a.createElement("div",null,n?n.tx.value.msg.map((e,t)=>l.a.createElement("div",{className:"card",key:`${n.hash}_${t}`},l.a.createElement("div",{className:"card-header"},"Type: ",e.type),l.a.createElement("ul",{className:"list-group list-group-flush"},m.types.isMsgExecuteContract(e)&&l.a.createElement(A,{msg:e}),m.types.isMsgSend(e)&&l.a.createElement(O,{msg:e})))):l.a.createElement("p",null,"Transaction not found")))),l.a.createElement(u,{backend:h.backend})))}}),l.a.createElement(s.b,{path:"/accounts/:address",component:function(){const{address:e}=Object(s.g)(),t=e||"",[a,n]=l.a.useState(),[c,r]=l.a.useState([]);l.a.useEffect(()=>{const e=new m.CosmWasmClient(h.backend.nodeUrl);e.getAccount(t).then(n),e.searchTx({sentFromOrTo:t}).then(e=>{const t=new Array;for(const a of e)for(const[e,n]of a.tx.value.msg.entries())m.types.isMsgSend(n)&&t.push({key:`${a.hash}_${e}`,height:a.height,transactionId:a.hash,msg:n});r(t)})},[t]);const i=l.a.createElement("span",{title:t},"Account ",p(t,15));return l.a.createElement("div",{className:"page"},l.a.createElement(E,null),l.a.createElement("div",{className:"container mt-3 contract-container"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.c,{to:"/"},"Home")),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},i))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,i),l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item",title:"Bank tokens owned by this contract"},"Balance: ",N((null===a||void 0===a?void 0:a.balance)||[]))))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Token transfers"),l.a.createElement("p",null,"Incoming and outgoing bank token transfers"),0!==c.length?l.a.createElement(v,{transfers:c}):l.a.createElement("p",null,"No transfer found"))),l.a.createElement(u,{backend:h.backend})))}}),l.a.createElement(s.b,{component:()=>l.a.createElement(s.a,{to:"/codes"})}))),document.getElementById("root"))},87:function(e,t){}},[[133,1,2]]]);
//# sourceMappingURL=main.1246d2d5.chunk.js.map